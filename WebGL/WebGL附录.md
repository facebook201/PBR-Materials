#### 模型矩阵

模型矩阵是用来存储一个模型空间位置变化的信息，在视点保持不变，仅仅变换模型。

**我们首先计算每个模型的模型矩阵，然后将最初的模型的每一顶点坐标都左乘该模型矩阵，得到这一帧表示的时刻（模型已经经过多次变换）该模型每一顶点的坐标**。

##### 视图矩阵

模型矩阵我们关系的是空间中的点在变换后在世界坐标系的位置。但是观察者的视角下，所有的模型都相对观察者的变化而变化。**将世界里的所有模型看作一个大模型，在所有模型矩阵的左侧再乘以一个表示整个世界变换的模型矩阵**，就可以了。这个表示整个世界变换的矩阵又称为“**视图矩阵**”，因为他们经常一起工作，所以将**视图矩阵乘以模型矩阵得到的矩阵称为“模型视图矩阵”**。模型视图矩阵的作用是：乘以一个点坐标，获得一个新的点坐标，获得的点坐标表示点在世界里变换，观察者也变换后，点相对于观察者的位置。

**视图矩阵是将观察者作为一个模型**

#### 投影矩阵

模型视图矩阵的作用是确定某一帧中，空间里每个顶点的坐标，而投影矩阵则将这些顶点坐标映射到二维的屏幕上。 即【x, y, z, 1】=> [x', y']

正射投影用于精确制图，如工业零件侧视图，建筑物顶视图。投影后仍是矩形

透视投影用于模拟视觉，，模拟人的眼睛。投影变成梯形。



##### 隐藏面消除和裁剪坐标系统

```js
// 消除隐藏面
gl.enable(gl.DEPTH_TEST);

// 清空深度缓冲区
gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
```

 裁剪坐标系使用的是左手坐标系，Z 正方向指向内部，而  WebGL是右手坐标系。

**只有设定了可视空间，隐藏面消除功能才能正常工作。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        **



##### 本地坐标系

首先我们根据模型来确定顶点，坐标相对于角色本身的原点。这样的坐标系称为本地坐标系。例如一个立方体、球体，我们把原点设在中心，例如一个游戏模型，原点放在脚步（地面y坐标为0的位置）。**我们可以通过建模工具把模型的（顶点坐标、颜色、索引）导出，将文件的顶点数据导入到缓冲区，使用 gl.drawElements 绘制出来**



![zbx](C:\Users\shiyao\Desktop\可视化\WebGL\image\zbx.png)













​																							